<!-- project by Ronnie Song for CS410P Full Stack Term Project -->
<!DOCTYPE html>
<html>
<!-- reference from class exercises -->
<head>
  <title>Porland Local Events</title>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.0/js/bootstrap.min.js"></script>
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.0/css/bootstrap.min.css"
  />
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
  <meta charset="utf-8">

  <!-- stlye code reference from booststap and class exercise -->
  <style>
    #map {
      height: 100%;
    }

    html,
    body {
      height: 100%;
      margin: 0;
      padding: 0;
    }
  </style>
</head>

<body>
  <!-- nav bar reference from booststap -->
  <nav class="navbar navbar-expand-md navbar-dark bg-dark">
    <!-- goto homepage which is map page -->
    <a class="navbar-brand" href="http://localhost:8080/project.html">Porland Local Events</a>
    <div class="navbar-collapse">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item">
          <!-- goto map page -->
          <a class="nav-link" href="http://localhost:8080/project.html">Activities Map</a>
        </li>
        <li class="nav-item active">
          <!-- goto list page -->
          <a class="nav-link" href="http://localhost:8080/list.html">Activities List</a>
        </li>
        <!-- <li class="nav-item active">
          <a class="nav-link" href="http://localhost:8080/about.html">About This Project</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Contact Me</a>
        </li> -->
      </ul>
      <!-- <ul class="navbar-nav pull-right ">
        <li class="nav-item">
          <a class="nav-link" href="#">Submit An Evnet</a>
        </li>
      </ul> -->
    </div>
  </nav>

  <!-- events list -->
  <div style='overflow:auto; width:100%;height:100%;'>
    <div id="output"></div>
  </div>

  <script>
    // catch the JSON object from backend, got help from Simon
    var events = JSON.parse(`{{{events}}}`);
    //var events = JSON.parse(`{{{events}}}`.Specifications);

    // var
    out = '';

    // loop to generate cards
    for (i = 0; i < events.length; i += 1) {
      // expected to have the following
      // <div class="card text-white bg-dark mb-3" style="max-width: 18rem;">
      //     <div class="card-header">
      //         <h4  class="card-title">events[i].summary+</h5>
      //     </div>
      //     <div class="card-body">
      //         <p>events[i].daysOfWeek + ', ' + events[i].date + ', ' + events[i].start + '-' + events[i].end</p>
      //         <h5 class="card-subtitle mb-2 text-muted">'+events[i].location+'</h5>
      //     </div>
      // </div>
      out += '<div">' +
              '<div class="card-header">' +
                '<h4 class="card-title">' + events[i].summary + '</h4>' +
              '</div>' +
              '<div class="card-body">' +
                '<p class="card-text">' + events[i].daysOfWeek + ', ' + events[i].date + ', ' + events[i].start + '-' + events[
                i].end + '</p>' +
                '<h5">' + events[i].location + '</h5>' +
              '</div>' +
             '</div>';
    }
    document.getElementById('output').innerHTML = out;
  </script>
</body>

</html>